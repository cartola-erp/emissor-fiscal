<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

    <head>
        <title> </title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    </head>

    <!-- CSS -->
    <style>
        table {
            width: 100%;
        }

        table,
        th,
        td {
            border: 1px solid black;
            border-collapse: collapse;
        }
    
        th,
        td {
            padding: 15px;
            text-align: left;
        }
    
        #t01 tr:nth-child(even) {
            background-color: #eee;
        }
    
        #t01 tr:nth-child(odd) {
            background-color: #fff;
        }
    
        #t01 th {
            background-color: black;
            color: white;
        }
    </style>

    <!-- BODY/CORPO do EMAIL -->
    <body>


        <!-- Tabela referente a nota -->
        <h1 style="text-align: center;"> 
            Doc. Fiscal (Chave): 
            <span th:text="${docFisc.nfeChaveAcesso}">
        </h1>

        <table border="1" width = "100%" bordercolor = "green" >
            <tr>
                <th>Compra</th>
                <th>Loja</th>
                <th>Numero Nf</th>
                <th>Uf de Origem</th>
                <th>Tel. Loja</th>
                <th>CNAE (AG)</th>
                <th>Insc. Estad. (AG)</th>
            </tr>

            <tr>
              <td th:text="${docFisc.numero}">  </td>                       <!-- Informe o numero da compra -->
              <td th:text="${loja.getLojaAndRazaoSocial()}">  </td>         <!-- Loja -->
              <td th:text="${docFisc.numero}"> </td>                        <!-- Numero da Nota  -->
              <td th:text="${docFisc.emitente.endereco.uf}"> </td>          <!-- UF -->
              <td th:text="${loja.telefone}"></td>                          <!-- Tel. AG -->
              <td th:text="${loja.cnae}">  </td>                            <!-- CNAE -->
              <td th:text="${loja.ie}">  </td>                              <!-- IE -->
            </tr>
        </table>


        <!-- ========================================================================================== -->
        <!-- =================== Tabela Referente a todos os itens da nota com ST ===================== -->
        <!-- ========================================================================================== -->
        <h1 style="text-align: center;"> Itens (Somentes os calculados com ST) </h1>

              <table border="1" width = "100%" bordercolor = "green" >
                 <tr>
                    <th>COD X</th>
                    <th>SEQ</th>
                    <th>Descrição</th>
                    <th>Nº Item</th>
                    <th>Ncm</th>     <!-- CASO se um NCM que nunca tenha sido validado pela gabi pintar de cor diferente -->
                    <th>VLR Prod.</th>
                    <th>Qtd.</th>
                    <th>VLR Total.</th>
                    <th>Frete</th>
                    <th>VLR IPI</th>
                    <!-- <th>Total</th> -->
                    <th>MVA</th>
                    <th>Prod. Origem</th>
                    <th>ICMS Aliq. Cred.</th>
                    <th>Aliq. Interna Dest.</th>
                    <!-- VALORES REFERENTES ao CALCULO de ICMS ST ref. a Cada ITEM -->
                    <th>Vlr Principal </th>
                    <th>Vlr Total</th>
                </tr>
                <tr th:each="calcGare : ${listCalcGare}">
                    <td th:text="${calcGare.docFiscItem.codigoX}">Cod X</td>
                    <td> </td>               <!-- COD SEQ -->
                    <td> </td>               <!-- Desc. -->
                    <td> </td>               <!-- Nº Item -->
                    <td th:text="${calcGare.docFiscItem.ncm.numero}"></td>                  <!-- NCM -->
                    <td th:text="${calcGare.docFiscItem.valorUnitario}"> </td>              <!-- VLR Prod -->
                    <td th:text="${calcGare.docFiscItem.quantidade}"> </td>                 <!-- Quantidade -->
                    <td th:text="${calcGare.docFiscItem.valorUnitario}"> </td>  
                    <td> </td>               <!-- Frete -->
                    <td> </td>               <!-- VLR IPI -->
                    <!-- <td> </td>               Total -->
                    <td th:text="${calcGare.tribEstaGuia.icmsIva}"> </td>                    <!-- IVA/MVA -->
                    <td th:text="${calcGare.tribEstaGuia.produtoOrigem.ordinal}"> </td>      <!-- Origem -->
                    <td th:text="${calcGare.tribEstaGuia.icmsAliquota}"> </td>               <!-- Aliq. Cred -->
                    <td th:text="${calcGare.tribEstaGuia.icmsAliqInternaDestino}"> </td>     <!-- Aliq. Interna Dest. -->
                    <!-- VALORES REFERENTES ao CALCULO de ICMS ST ref. a Cada ITEM -->
                    <td> </td> <!-- Vlr Principal-->
                    <td th:text="${}"> </td> <!-- Vlr Total -->
                </tr>
            </table>


            
        <!-- Tabela referente a Guia ICMS ST  -->
        <h1 style="text-align: center;"> 
            Info da Guia ICMS ST 
            <!-- <span th:text="${docFisc.nfeChaveAcesso}"> -->
        </h1>

        <table border="1" width = "100%" bordercolor = "green" >
            <tr>
                <th>Nome</th>
                <th>Endereço</th>
                <th>Municipio</th>
                <th>CNAE</th>
                <th>IE</th>
                <th>Info. Complementar</th>
                <th>Data Vencto.</th>
                <th>Referência</th>
                <th>Valor Principal</th>
                <th>Juros</th>
                <th>Multa</th>
                <th>Total</th>
            </tr>

            <tr>
                <td th:text="${docFisc.numero}">  </td>                       <!-- Nome -->
                <td th:text="${loja.getLojaAndRazaoSocial()}">  </td>         <!-- Endereço -->
                <td th:text="${docFisc.numero}"> </td>                        <!-- Municipio -->
                <td th:text="${docFisc.emitente.endereco.uf}"> </td>          <!-- CNAE -->
                <td th:text="${loja.telefone}"></td>                          <!-- IE -->
                <td th:text="${loja.cnae}">  </td>                            <!-- Info. Complementar -->
                <td th:text="${loja.ie}">  </td>                              <!-- Data Vencto. -->
                <td th:text="${loja.telefone}"></td>                          <!-- Referência -->
                <td th:text="${loja.cnae}">  </td>                            <!-- Valor Principal -->
                <td th:text="${loja.ie}">  </td>                              <!-- Juros -->
                <td th:text="${loja.cnae}">  </td>                            <!-- Multa -->
                <td th:text="${loja.ie}">  </td>                              <!-- Total -->
            </tr>
        </table>


            <!-- Colocar aqui algumas "considerações.: Ex.: Formula dos Calculos e legendas" -->
    </body>

</html>